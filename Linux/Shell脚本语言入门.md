# Shell脚本语言入门

> 因为实验室项目需要高性能的shell脚本，所以不得不进行学习shell核心语法。本博客记录了Shell脚本语言学习历程。我的参考资料主要是菜鸟教程，以及各大博客和AI指导，因此本博客会大量参考菜鸟教程。由于shell历史相对悠久，在语法上较为多样，所以我学习的时候，仅学习了性能更好的语法。此外，关于shell的函数部分，我短时间内用不上，因此没有进行学习。有需要的朋友，可以自行查阅资料。

## 脚本基本知识

1. `#`号表示注释： `shell`与`python`的注释方式相同，但没有多行注释，只有单行注释。
2. `#!`：shell脚本的第一行通常是`#!/bin/bash`，这是告诉系统需要使用的解释器。不过，经过测试，不写也能执行，但是为了规范，建议写上。
3. 执行方式：
   - 添加执行权限：`chmod u+x ./test.sh`。若对于权限管理不熟悉，可以阅读这篇博客[Linux文件权限管理](https://www.cnblogs.com/coder-shane/p/18372034)
   - `bash test.sh` 或者 `./test.sh`。如果选择后者，切记要有`./`
4. shell脚本与Linux命令是互通的，所以可以在shell脚本中使用Linux命令。

## 变量

在shell的世界里，变量只有两种**字符串**和**数字**。

### 声明与定义

我们可以使用变量名=值的形式，对变量进行声明与定义。也可以分开。这里的语法规则可以参考python

**切记：**等号=两边不能有空格！！！这与大多数编程语言都不同。

```shell
!#/bin/bash
# 声明和定义一起
tmp_a="hello"
tmp_b="world"
# 先声明，可以后面再定义，但是要把“位置”留出来。这与python语法一样的
tmp_c=""

tmp_c="!"
```

变量名需要避免（几乎和其他编程语言一样的）：

- 只包含字母、数字、下划线
- 不能以数字开头
- 避免使用shell关键字
- 大写字母表示常量
- 避免使用空格和特殊符号

使用变量：`$` + 变量名

```shell
#!/bin/bash
tmp_a="hello"
tmp_b="world"
tmp_c=""
echo -e "$tmp_a \t $tmp_b \t $tmp_c"
tmp_c="!"
echo -e "$tmp_a \t $tmp_b \t $tmp_c"

# 输出结果 
hello 	 world 	 
hello 	 world 	 !
```

echo语法会在下一节讲解。

#### 易错：双引号与单引号

1. 双引号下，变量可以拓展，可以使用命令，可以将字符串看作一个整体，即包含空格。
2. 单引号下，引号内部是怎么样的就怎么样，变量不会被拓展，完完全全被视为字符串。**不会保留空格**，若‘tmp_a tmp_b tmp_c’，其实shell会认为是三个字符串，分别是tmp_a、tmp_b、tmp_c。
3. 引号嵌套问题：谁在最外层，听谁的。如果最外层是单引号，那么就视为字符串。有时候为了避免一些命令被shell提前解析，会将这段命令用单引号包裹起来。所以有时候命令不正常执行，可以往这方面考虑。

简而言之：

- **双引号**：要变量、要命令、要空格
- **单引号**：要原样、要符号、要安全

## 输入与输出

## 判断语句

## 循环语句



## 参考资料

- [菜鸟教程——Shell教程](https://www.runoob.com/linux/linux-shell.html)

